-----------------------------------------------------------------------------
-- |The Helium Compiler : Static Analysis
-- 
-- Maintainer  :  bastiaan@cs.uu.nl
-- Stability   :  experimental
-- Portability :  unknown
--
-- Assigns type variables, which are used for both the type inference and the
-- code generation. This allows to recover the type information from the output
-- of the constraint solver.
--
-------------------------------------------------------------------------------

ATTR Body
  [ | betaDeclUnique : Int | ]

SEM Module
  | Module
    body.betaDeclUnique = 1000000000 -- 2 ^ 30

ATTR Declaration Declarations MaybeDeclarations
  Expression Expressions MaybeExpression
  Statements Statement Qualifiers Qualifier Alternatives Alternative
  GuardedExpressions GuardedExpression RecordExpressionBindings
  RecordExpressionBinding RecordPatternBindings RecordPatternBinding
  FunctionBindings FunctionBinding LeftHandSide RightHandSide
  Patterns Pattern [ | betaDeclUnique:Int | ]

SEM Declaration
  | FunctionBindings
    -- One type variable for the function type
    bindings.betaDeclUnique = @lhs.betaDeclUnique + 1

SEM Expression
  | Lambda
    -- One type variable for the function type
    patterns.betaDeclUnique = @lhs.betaDeclUnique + 1


-- TODO: patterns
